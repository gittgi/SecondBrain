# 스프링 컨테이너

- 스프링의 ApplicationContext이 스프링 컨테이너
	- BeanFactory(부모 인터페이스에 해당)와 ApplicationContext로 구분해서 이야기 하나, 기본적으로 BeanFactory를 직접 사용하는 일이 드물다.
- [의존관계 주입(DI)](의존관계%20주입(DI).md)시에 Configuration을 통해 의존관계를 동적으로 맺어 주던 것을 스프링에서는 스프링 컨테이너를 통해 수행

## ApplicationContext

- ApplicationContext
	- ApplicationContext는 BeanFactory(인터페이스)를 상속받는 인터페이스
		- 구현체로 다양한 형식의 설정 정보를 받을 수 있다.
			- AnnotationConfigApplicationContext : [@Configuration](@Configuration.md) 이 붙은 AppConfig.class를 구성 정보로 사용
			- GenericXmlApplicationContext : xml로 구성된 appConfig.xml 설정 파일을 구성 정보로 사용
			- 기타 형식 역시 xxxAplicationContext 를 통해 구성정보로 사용 가능
		- 다양한 형식의 설정정보를 받을 수 있는 이유는 BeanDefinition 덕분
			- 어떤 형식의 설정정보이든 xxxBeanDefinitionReader를 통해 해당 정보를 읽고 빈 메타정보에 해당하는 BeanDefinition을 생성하게 됨
			- BeanDefinition이 추상화되어 있기 때문에 어떤 형식이든 알맞은 Reader를 통해 BeanDefinition으로 빈 정보를 변환(구현) 할 수 있으면 되기 때문에 다양한 형식의 설정 정보 사용 가능
			
	- AplicationContext의 기능
		- getBean()등 스프링 빈을 관리하고 조회하는 기능은 BeanFactory에서 상속
		- 이외에도 다른 인터페이스들도 같이 상속받아 추가 기능 제공
			- 메세지 소스를 활용한 국제화 기능 : 요청에 따라 로컬라이징
			- 환경변수 : 로컬/개발/운영 등 실행 환경에 따라 다른 설정 적용
			- 어플리케이션 이벤트 : 이벤트 발행 및 구독 모델 지원
			- 리소스 조회 : 파일, 클래스패스, 외부파일 등에서 리소스를 편리하게 조회
	

- 이 AppConfig에 [@Bean](@Bean.md) 이라 적힌 메서드(xml의 경우에는 `<bean>` 태그)를 모두 호출하여, 반환된 객체를 스프링 컨테이너에 등록하여 관리
	- 이렇게 등록하여 관리되는 객체를 [스프링 빈](스프링%20빈.md)이라 한다
	- 스프링 빈은 @Bean을 붙인 메서드 명을 스프링 빈의 이름으로 사용


- 자바 코드로 개발자가 직접 관리하던 것을 스프링 컨테이너에 등록하고, 컨테이너에서 관리 및 찾아 사용할 수 있게 바꾼 것
- applicationContext.getBean() 메서드를 통해 스프링 컨테이너에 등록된 빈 객체를 찾아 불러올 수 있다.





---


