---
tags:
  - 디자인패턴
  - CS_지식의_정석
---

# flux 패턴

```table-of-contents
```

##  flux 패턴이란?

- 단방향으로 데이터 흐름을 관리하는 디자인패턴
- 페이스북의 "읽은 표시 (mark seen)"에 대해, 어떤 페이지에서 읽었을 때, 다른 페이지에서는 안읽은 것으로 뜨는 기능 장애 발생
	- 뷰에서 일어난 것이 모델에 영향을 끼치기도 하고, 반대로 모델이 뷰에 영향을 끼치기도 하는 [MVC](../../Spring/Spring%20MVC/MVC.md) 패턴 때문에, 데이터를 일관성 있게 뷰에 공유하는 것이 어려움
	- 모델과 뷰의 관계가 복잡해지다보니, 데이터 흐름을 추적하여 버그를 수정하는 것이 매우 어려움
- 따라서 데이터가 단방향으로만 흐르게 하는 flux 패턴이 도입됨
- react의 redux라이브러리가 대표적인 flux패턴

### 장점
- 데이터 일관성의 증대
- 쉬운 디버깅
- 쉬운 단위 테스트



## flux 패턴의 구조
- flux 패턴은 action, dispatcher, store, view 의 계층으로 구성

- action
	- 사용자의 이벤트를 담당
	- 클릭, 조회, 글 작성 등의 이벤트에 관한 객체를 만들어서 dispatcher에게 전달

- dispatcher
	- 들어오는 action 객체 정보를 기반으로 어떠한 행위를 할 것인가를 결정
	- action 객체의 타입을 기반으로 미리 정의해둔 로직을 수행, 이를 store에 전달

- store
	- 어플리케이션의 상태를 관리하고 저장하는 계층
	- 도메인의 상태, 사용자의 인터페이스 등의 상태를 모두 저장

- view
	- 데이터를 기반으로 표출이되는 사용자 인터페이스


